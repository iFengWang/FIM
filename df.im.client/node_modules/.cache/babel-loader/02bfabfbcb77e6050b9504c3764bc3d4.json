{"ast":null,"code":"import _slicedToArray from\"/Users/feng/Work/Project/df/df.im/df.im.client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import io from\"socket.io-client\";import{updateUserStatus,addUnreadMessage,setIncomingCall}from\"../im/imStore\";// 创建socket实例\nimport{jsx as _jsx}from\"react/jsx-runtime\";var protocol=window.location.protocol;var hostname=window.location.hostname;var socket=io(\"\".concat(protocol,\"//\").concat(hostname,\":3000\"),{path:\"/im\",transports:[\"websocket\",\"polling\"],reconnection:true,reconnectionAttempts:Infinity,reconnectionDelay:1000,reconnectionDelayMax:5000,randomizationFactor:0.5,timeout:20000,pingTimeout:60000,pingInterval:25000,secure:true,rejectUnauthorized:false,autoConnect:true,forceNew:false,upgrade:true,rememberUpgrade:true,extraHeaders:{\"Access-Control-Allow-Origin\":\"*\"}});var SocketContext=/*#__PURE__*/createContext();export function SocketProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),connected=_useState2[0],setConnected=_useState2[1];var dispatch=useDispatch();useEffect(function(){if(!socket){console.error(\"Socket instance not found\");return;}// 设置事件监听器\nvar handleConnect=function handleConnect(){console.log(\"Socket connected\");setConnected(true);// 发送注册消息\nvar urlParams=new URLSearchParams(window.location.search);var uid=parseInt(urlParams.get(\"uId\"));if(uid){console.log(\"Registering user:\",uid);socket.emit(\"register\",{uid:uid});}else{console.error(\"No user ID found in URL\");}};socket.on(\"connect\",handleConnect);// 如果已经连接，立即注册\nif(socket.connected){handleConnect();}socket.on(\"disconnect\",function(){console.log(\"Socket disconnected\");setConnected(false);});socket.on(\"error\",function(error){console.error(\"Socket error:\",error);});socket.on(\"connect_error\",function(error){console.error(\"Socket connect error:\",error);});socket.on(\"user_status\",function(data){console.log(\"User status update:\",data);dispatch(updateUserStatus(data));});socket.on(\"initial_user_status\",function(users){console.log(\"Initial user status:\",users);users.forEach(function(user){dispatch(updateUserStatus(user));});});socket.on(\"message\",function(msg){console.log(\"Received message:\",msg);// 触发消息事件，让 imChat 组件可以监听到\nwindow.dispatchEvent(new CustomEvent(\"im_message\",{detail:msg}));});// 监听视频通话邀请\nvar handleVideoInvite=function handleVideoInvite(data){console.log(\"========== Video Invite Start ==========\");console.log(\"Received video invite:\",data);var urlParams=new URLSearchParams(window.location.search);var myUid=parseInt(urlParams.get(\"uId\"));console.log(\"Current user info:\",{uid:myUid,connected:socket.connected,socketId:socket.id});console.log(\"Invite details:\",data);// 确保这个邀请是发给我的\nif(myUid===data.to){console.log(\"This invite is for me, dispatching to Redux and showing dialog\");// 确保数据格式正确\nvar callData={from:data.from,fromName:data.fromName,to:data.to,timestamp:data.timestamp||new Date().toISOString()};console.log(\"Dispatching call data:\",callData);window.dispatchEvent(new CustomEvent(\"video_invite_received\",{detail:callData}));dispatch(setIncomingCall(callData));// 确认收到邀请\nconsole.log(\"Sending invite received confirmation\");socket.emit(\"video-invite-received\",{from:myUid,to:data.from});}else{console.log(\"Ignoring invite - not meant for me\");console.log(\"Expected uid:\",data.to);console.log(\"My uid:\",myUid);}console.log(\"========== Video Invite End ==========\");};socket.on(\"video-invite\",handleVideoInvite);socket.on(\"unread_message\",function(data){console.log(\"Received unread message notification:\",data);// 获取当前聊天用户\nvar currentChatUser=window.currentChatUser;// 只有在未打开与发送者的聊天窗口时，才增加未读消息计数\nif(!currentChatUser||currentChatUser.uid!==data.fromUid){dispatch(addUnreadMessage({fromUid:data.fromUid}));}});// 发送心跳包\nvar pingInterval=setInterval(function(){if(socket.connected){socket.emit(\"pp\");}},25000);// 接收心跳包\nsocket.on(\"pp\",function(){console.log(\"pingpong......It work!\");});// 监听视频邀请发送成功\nsocket.on(\"video-invite-sent\",function(data){console.log(\"Video invite sent successfully:\",data);window.dispatchEvent(new CustomEvent(\"video_invite_sent\",{detail:data}));});// 监听视频邀请失败\nsocket.on(\"video-invite-failed\",function(data){console.log(\"Video invite failed:\",data);window.dispatchEvent(new CustomEvent(\"video_invite_failed\",{detail:data}));});// 监听视频通话接受\nsocket.on(\"video-accept\",function(data){console.log(\"Video call accepted:\",data);window.dispatchEvent(new CustomEvent(\"video_accept\",{detail:data}));});// 监听视频通话拒绝\nsocket.on(\"video-reject\",function(data){console.log(\"Video call rejected:\",data);window.dispatchEvent(new CustomEvent(\"video_reject\",{detail:data}));});// 监听视频offer\nsocket.on(\"video-offer\",function(data){console.log(\"Received video offer:\",data);window.dispatchEvent(new CustomEvent(\"video_offer\",{detail:data}));});// 监听视频answer\nsocket.on(\"video-answer\",function(data){console.log(\"Received video answer:\",data);window.dispatchEvent(new CustomEvent(\"video_answer\",{detail:data}));});// 监听ICE候选\nsocket.on(\"ice-candidate\",function(data){console.log(\"Received ICE candidate:\",data);window.dispatchEvent(new CustomEvent(\"ice_candidate\",{detail:data}));});// 监听视频结束\nsocket.on(\"video-end\",function(data){console.log(\"Video call ended:\",data);window.dispatchEvent(new CustomEvent(\"video_end\",{detail:data}));});// 监听用户断开连接事件\nsocket.on(\"user_disconnected\",function(offLineUsers){console.log(\"User disconnected:\",offLineUsers);window.dispatchEvent(new CustomEvent(\"user_disconnected\",{detail:offLineUsers}));});// 组件卸载时清理事件监听器\nreturn function(){clearInterval(pingInterval);socket.off(\"connect\");socket.off(\"disconnect\");socket.off(\"error\");socket.off(\"connect_error\");socket.off(\"user_status\");socket.off(\"video-invite\");socket.off(\"initial_user_status\");socket.off(\"unread_message\");socket.off(\"message\");socket.off(\"pp\");socket.off(\"video-invite-sent\");socket.off(\"video-invite-failed\");socket.off(\"video-accept\");socket.off(\"video-reject\");socket.off(\"video-offer\");socket.off(\"video-answer\");socket.off(\"ice-candidate\");socket.off(\"video-end\");socket.off(\"user_disconnected\");};},[dispatch]);var sendMessage=function sendMessage(toUid,message){if(!socket||!connected){console.error(\"Socket not connected\");return;}var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));var fromName=urlParams.get(\"uName\");socket.emit(\"message\",{account:{id:toUid},from:{id:fromUid,name:fromName},content:message,timestamp:new Date().toISOString()});};var sendVideoInvite=function sendVideoInvite(toUid){if(!socket||!connected){console.error(\"Socket not connected\");return;}var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));var fromName=urlParams.get(\"uName\");if(!fromUid){console.error(\"Sender ID not found in URL parameters\");return;}console.log(\"Sending video invite to:\",{to:toUid,from:fromUid,fromName:fromName,timestamp:new Date().toISOString()});socket.emit(\"video-invite\",{to:toUid,from:fromUid,fromName:fromName,timestamp:new Date().toISOString()});};var sendVideoAccept=function sendVideoAccept(toUid){if(!socket||!connected)return;var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));socket.emit(\"video-accept\",{to:toUid,from:fromUid});};var sendVideoReject=function sendVideoReject(toUid){if(!socket||!connected)return;var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));socket.emit(\"video-reject\",{to:toUid,from:fromUid});};var sendVideoOffer=function sendVideoOffer(toUid,offer){if(!socket||!connected)return;var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));socket.emit(\"video-offer\",{to:toUid,from:fromUid,offer:offer});};var sendVideoAnswer=function sendVideoAnswer(toUid,answer){if(!socket||!connected)return;var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));socket.emit(\"video-answer\",{to:toUid,from:fromUid,answer:answer});};var sendIceCandidate=function sendIceCandidate(toUid,candidate){if(!socket||!connected)return;var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));socket.emit(\"ice-candidate\",{to:toUid,from:fromUid,candidate:candidate});};var sendVideoEnd=function sendVideoEnd(toUid){if(!socket||!connected)return;var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));socket.emit(\"video-end\",{to:toUid,from:fromUid});};var getHistoryMessages=function getHistoryMessages(toUid){if(!socket||!connected)return;var urlParams=new URLSearchParams(window.location.search);var fromUid=parseInt(urlParams.get(\"uId\"));socket.emit(\"get_history\",{fromUid:fromUid,toUid:toUid});};return/*#__PURE__*/_jsx(SocketContext.Provider,{value:{socket:socket,connected:connected,sendMessage:sendMessage,sendVideoInvite:sendVideoInvite,sendVideoAccept:sendVideoAccept,sendVideoReject:sendVideoReject,sendVideoOffer:sendVideoOffer,sendVideoAnswer:sendVideoAnswer,sendIceCandidate:sendIceCandidate,sendVideoEnd:sendVideoEnd,getHistoryMessages:getHistoryMessages},children:children});}export function useSocket(){return useContext(SocketContext);}","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","useDispatch","io","updateUserStatus","addUnreadMessage","setIncomingCall","protocol","window","location","hostname","socket","path","transports","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","timeout","pingTimeout","pingInterval","secure","rejectUnauthorized","autoConnect","forceNew","upgrade","rememberUpgrade","extraHeaders","SocketContext","SocketProvider","children","connected","setConnected","dispatch","console","error","handleConnect","log","urlParams","URLSearchParams","search","uid","parseInt","get","emit","on","data","users","forEach","user","msg","dispatchEvent","CustomEvent","detail","handleVideoInvite","myUid","socketId","id","to","callData","from","fromName","timestamp","Date","toISOString","currentChatUser","fromUid","setInterval","offLineUsers","clearInterval","off","sendMessage","toUid","message","account","name","content","sendVideoInvite","sendVideoAccept","sendVideoReject","sendVideoOffer","offer","sendVideoAnswer","answer","sendIceCandidate","candidate","sendVideoEnd","getHistoryMessages","useSocket"],"sources":["/Users/feng/Work/Project/df/df.im/df.im.client/src/contexts/imSocket.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport io from \"socket.io-client\";\nimport {\n  updateUserStatus,\n  addUnreadMessage,\n  setIncomingCall,\n} from \"../im/imStore\";\n\n// 创建socket实例\nconst protocol = window.location.protocol;\nconst hostname = window.location.hostname;\nconst socket = io(`${protocol}//${hostname}:3000`, {\n  path: \"/im\",\n  transports: [\"websocket\", \"polling\"],\n  reconnection: true,\n  reconnectionAttempts: Infinity,\n  reconnectionDelay: 1000,\n  reconnectionDelayMax: 5000,\n  randomizationFactor: 0.5,\n  timeout: 20000,\n  pingTimeout: 60000,\n  pingInterval: 25000,\n  secure: true,\n  rejectUnauthorized: false,\n  autoConnect: true,\n  forceNew: false,\n  upgrade: true,\n  rememberUpgrade: true,\n  extraHeaders: {\n    \"Access-Control-Allow-Origin\": \"*\",\n  },\n});\n\nconst SocketContext = createContext();\n\nexport function SocketProvider({ children }) {\n  const [connected, setConnected] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!socket) {\n      console.error(\"Socket instance not found\");\n      return;\n    }\n\n    // 设置事件监听器\n    const handleConnect = () => {\n      console.log(\"Socket connected\");\n      setConnected(true);\n\n      // 发送注册消息\n      const urlParams = new URLSearchParams(window.location.search);\n      const uid = parseInt(urlParams.get(\"uId\"));\n      if (uid) {\n        console.log(\"Registering user:\", uid);\n        socket.emit(\"register\", { uid });\n      } else {\n        console.error(\"No user ID found in URL\");\n      }\n    };\n\n    socket.on(\"connect\", handleConnect);\n\n    // 如果已经连接，立即注册\n    if (socket.connected) {\n      handleConnect();\n    }\n\n    socket.on(\"disconnect\", () => {\n      console.log(\"Socket disconnected\");\n      setConnected(false);\n    });\n\n    socket.on(\"error\", (error) => {\n      console.error(\"Socket error:\", error);\n    });\n\n    socket.on(\"connect_error\", (error) => {\n      console.error(\"Socket connect error:\", error);\n    });\n\n    socket.on(\"user_status\", (data) => {\n      console.log(\"User status update:\", data);\n      dispatch(updateUserStatus(data));\n    });\n\n    socket.on(\"initial_user_status\", (users) => {\n      console.log(\"Initial user status:\", users);\n      users.forEach((user) => {\n        dispatch(updateUserStatus(user));\n      });\n    });\n\n    socket.on(\"message\", (msg) => {\n      console.log(\"Received message:\", msg);\n      // 触发消息事件，让 imChat 组件可以监听到\n      window.dispatchEvent(new CustomEvent(\"im_message\", { detail: msg }));\n    });\n\n    // 监听视频通话邀请\n    const handleVideoInvite = (data) => {\n      console.log(\"========== Video Invite Start ==========\");\n      console.log(\"Received video invite:\", data);\n\n      const urlParams = new URLSearchParams(window.location.search);\n      const myUid = parseInt(urlParams.get(\"uId\"));\n\n      console.log(\"Current user info:\", {\n        uid: myUid,\n        connected: socket.connected,\n        socketId: socket.id,\n      });\n\n      console.log(\"Invite details:\", data);\n\n      // 确保这个邀请是发给我的\n      if (myUid === data.to) {\n        console.log(\n          \"This invite is for me, dispatching to Redux and showing dialog\"\n        );\n\n        // 确保数据格式正确\n        const callData = {\n          from: data.from,\n          fromName: data.fromName,\n          to: data.to,\n          timestamp: data.timestamp || new Date().toISOString(),\n        };\n\n        console.log(\"Dispatching call data:\", callData);\n        window.dispatchEvent(\n          new CustomEvent(\"video_invite_received\", { detail: callData })\n        );\n        dispatch(setIncomingCall(callData));\n\n        // 确认收到邀请\n        console.log(\"Sending invite received confirmation\");\n        socket.emit(\"video-invite-received\", {\n          from: myUid,\n          to: data.from,\n        });\n      } else {\n        console.log(\"Ignoring invite - not meant for me\");\n        console.log(\"Expected uid:\", data.to);\n        console.log(\"My uid:\", myUid);\n      }\n      console.log(\"========== Video Invite End ==========\");\n    };\n\n    socket.on(\"video-invite\", handleVideoInvite);\n\n    socket.on(\"unread_message\", (data) => {\n      console.log(\"Received unread message notification:\", data);\n      // 获取当前聊天用户\n      const currentChatUser = window.currentChatUser;\n      // 只有在未打开与发送者的聊天窗口时，才增加未读消息计数\n      if (!currentChatUser || currentChatUser.uid !== data.fromUid) {\n        dispatch(addUnreadMessage({ fromUid: data.fromUid }));\n      }\n    });\n\n    // 发送心跳包\n    const pingInterval = setInterval(() => {\n      if (socket.connected) {\n        socket.emit(\"pp\");\n      }\n    }, 25000);\n\n    // 接收心跳包\n    socket.on(\"pp\", () => {\n      console.log(\"pingpong......It work!\");\n    });\n\n    // 监听视频邀请发送成功\n    socket.on(\"video-invite-sent\", (data) => {\n      console.log(\"Video invite sent successfully:\", data);\n      window.dispatchEvent(\n        new CustomEvent(\"video_invite_sent\", { detail: data })\n      );\n    });\n\n    // 监听视频邀请失败\n    socket.on(\"video-invite-failed\", (data) => {\n      console.log(\"Video invite failed:\", data);\n      window.dispatchEvent(\n        new CustomEvent(\"video_invite_failed\", { detail: data })\n      );\n    });\n\n    // 监听视频通话接受\n    socket.on(\"video-accept\", (data) => {\n      console.log(\"Video call accepted:\", data);\n      window.dispatchEvent(new CustomEvent(\"video_accept\", { detail: data }));\n    });\n\n    // 监听视频通话拒绝\n    socket.on(\"video-reject\", (data) => {\n      console.log(\"Video call rejected:\", data);\n      window.dispatchEvent(new CustomEvent(\"video_reject\", { detail: data }));\n    });\n\n    // 监听视频offer\n    socket.on(\"video-offer\", (data) => {\n      console.log(\"Received video offer:\", data);\n      window.dispatchEvent(new CustomEvent(\"video_offer\", { detail: data }));\n    });\n\n    // 监听视频answer\n    socket.on(\"video-answer\", (data) => {\n      console.log(\"Received video answer:\", data);\n      window.dispatchEvent(new CustomEvent(\"video_answer\", { detail: data }));\n    });\n\n    // 监听ICE候选\n    socket.on(\"ice-candidate\", (data) => {\n      console.log(\"Received ICE candidate:\", data);\n      window.dispatchEvent(new CustomEvent(\"ice_candidate\", { detail: data }));\n    });\n\n    // 监听视频结束\n    socket.on(\"video-end\", (data) => {\n      console.log(\"Video call ended:\", data);\n      window.dispatchEvent(new CustomEvent(\"video_end\", { detail: data }));\n    });\n\n    // 监听用户断开连接事件\n    socket.on(\"user_disconnected\", (offLineUsers) => {\n      console.log(\"User disconnected:\", offLineUsers);\n      window.dispatchEvent(\n        new CustomEvent(\"user_disconnected\", { detail: offLineUsers })\n      );\n    });\n\n    // 组件卸载时清理事件监听器\n    return () => {\n      clearInterval(pingInterval);\n      socket.off(\"connect\");\n      socket.off(\"disconnect\");\n      socket.off(\"error\");\n      socket.off(\"connect_error\");\n      socket.off(\"user_status\");\n      socket.off(\"video-invite\");\n      socket.off(\"initial_user_status\");\n      socket.off(\"unread_message\");\n      socket.off(\"message\");\n      socket.off(\"pp\");\n      socket.off(\"video-invite-sent\");\n      socket.off(\"video-invite-failed\");\n      socket.off(\"video-accept\");\n      socket.off(\"video-reject\");\n      socket.off(\"video-offer\");\n      socket.off(\"video-answer\");\n      socket.off(\"ice-candidate\");\n      socket.off(\"video-end\");\n      socket.off(\"user_disconnected\");\n    };\n  }, [dispatch]);\n\n  const sendMessage = (toUid, message) => {\n    if (!socket || !connected) {\n      console.error(\"Socket not connected\");\n      return;\n    }\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n    const fromName = urlParams.get(\"uName\");\n\n    socket.emit(\"message\", {\n      account: { id: toUid },\n      from: { id: fromUid, name: fromName },\n      content: message,\n      timestamp: new Date().toISOString(),\n    });\n  };\n\n  const sendVideoInvite = (toUid) => {\n    if (!socket || !connected) {\n      console.error(\"Socket not connected\");\n      return;\n    }\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n    const fromName = urlParams.get(\"uName\");\n\n    if (!fromUid) {\n      console.error(\"Sender ID not found in URL parameters\");\n      return;\n    }\n\n    console.log(\"Sending video invite to:\", {\n      to: toUid,\n      from: fromUid,\n      fromName,\n      timestamp: new Date().toISOString(),\n    });\n\n    socket.emit(\"video-invite\", {\n      to: toUid,\n      from: fromUid,\n      fromName,\n      timestamp: new Date().toISOString(),\n    });\n  };\n\n  const sendVideoAccept = (toUid) => {\n    if (!socket || !connected) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n\n    socket.emit(\"video-accept\", {\n      to: toUid,\n      from: fromUid,\n    });\n  };\n\n  const sendVideoReject = (toUid) => {\n    if (!socket || !connected) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n\n    socket.emit(\"video-reject\", {\n      to: toUid,\n      from: fromUid,\n    });\n  };\n\n  const sendVideoOffer = (toUid, offer) => {\n    if (!socket || !connected) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n\n    socket.emit(\"video-offer\", {\n      to: toUid,\n      from: fromUid,\n      offer,\n    });\n  };\n\n  const sendVideoAnswer = (toUid, answer) => {\n    if (!socket || !connected) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n\n    socket.emit(\"video-answer\", {\n      to: toUid,\n      from: fromUid,\n      answer,\n    });\n  };\n\n  const sendIceCandidate = (toUid, candidate) => {\n    if (!socket || !connected) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n\n    socket.emit(\"ice-candidate\", {\n      to: toUid,\n      from: fromUid,\n      candidate,\n    });\n  };\n\n  const sendVideoEnd = (toUid) => {\n    if (!socket || !connected) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n\n    socket.emit(\"video-end\", {\n      to: toUid,\n      from: fromUid,\n    });\n  };\n\n  const getHistoryMessages = (toUid) => {\n    if (!socket || !connected) return;\n\n    const urlParams = new URLSearchParams(window.location.search);\n    const fromUid = parseInt(urlParams.get(\"uId\"));\n\n    socket.emit(\"get_history\", {\n      fromUid,\n      toUid,\n    });\n  };\n\n  return (\n    <SocketContext.Provider\n      value={{\n        socket,\n        connected,\n        sendMessage,\n        sendVideoInvite,\n        sendVideoAccept,\n        sendVideoReject,\n        sendVideoOffer,\n        sendVideoAnswer,\n        sendIceCandidate,\n        sendVideoEnd,\n        getHistoryMessages,\n      }}\n    >\n      {children}\n    </SocketContext.Provider>\n  );\n}\n\nexport function useSocket() {\n  return useContext(SocketContext);\n}\n"],"mappings":"oIAAA,MAAOA,MAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC7E,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAOC,GAAE,KAAM,kBAAkB,CACjC,OACEC,gBAAgB,CAChBC,gBAAgB,CAChBC,eAAe,KACV,eAAe,CAEtB;AAAA,2CACA,GAAMC,SAAQ,CAAGC,MAAM,CAACC,QAAQ,CAACF,QAAQ,CACzC,GAAMG,SAAQ,CAAGF,MAAM,CAACC,QAAQ,CAACC,QAAQ,CACzC,GAAMC,OAAM,CAAGR,EAAE,WAAII,QAAQ,cAAKG,QAAQ,UAAS,CACjDE,IAAI,CAAE,KAAK,CACXC,UAAU,CAAE,CAAC,WAAW,CAAE,SAAS,CAAC,CACpCC,YAAY,CAAE,IAAI,CAClBC,oBAAoB,CAAEC,QAAQ,CAC9BC,iBAAiB,CAAE,IAAI,CACvBC,oBAAoB,CAAE,IAAI,CAC1BC,mBAAmB,CAAE,GAAG,CACxBC,OAAO,CAAE,KAAK,CACdC,WAAW,CAAE,KAAK,CAClBC,YAAY,CAAE,KAAK,CACnBC,MAAM,CAAE,IAAI,CACZC,kBAAkB,CAAE,KAAK,CACzBC,WAAW,CAAE,IAAI,CACjBC,QAAQ,CAAE,KAAK,CACfC,OAAO,CAAE,IAAI,CACbC,eAAe,CAAE,IAAI,CACrBC,YAAY,CAAE,CACZ,6BAA6B,CAAE,GACjC,CACF,CAAC,CAAC,CAEF,GAAMC,cAAa,cAAGhC,aAAa,EAAE,CAErC,MAAO,SAASiC,eAAc,MAAe,IAAZC,SAAQ,MAARA,QAAQ,CACvC,cAAkC/B,QAAQ,CAAC,KAAK,CAAC,wCAA1CgC,SAAS,eAAEC,YAAY,eAC9B,GAAMC,SAAQ,CAAGjC,WAAW,EAAE,CAE9BF,SAAS,CAAC,UAAM,CACd,GAAI,CAACW,MAAM,CAAE,CACXyB,OAAO,CAACC,KAAK,CAAC,2BAA2B,CAAC,CAC1C,OACF,CAEA;AACA,GAAMC,cAAa,CAAG,QAAhBA,cAAa,EAAS,CAC1BF,OAAO,CAACG,GAAG,CAAC,kBAAkB,CAAC,CAC/BL,YAAY,CAAC,IAAI,CAAC,CAElB;AACA,GAAMM,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAMC,IAAG,CAAGC,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAC1C,GAAIF,GAAG,CAAE,CACPP,OAAO,CAACG,GAAG,CAAC,mBAAmB,CAAEI,GAAG,CAAC,CACrChC,MAAM,CAACmC,IAAI,CAAC,UAAU,CAAE,CAAEH,GAAG,CAAHA,GAAI,CAAC,CAAC,CAClC,CAAC,IAAM,CACLP,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAC,CAC1C,CACF,CAAC,CAED1B,MAAM,CAACoC,EAAE,CAAC,SAAS,CAAET,aAAa,CAAC,CAEnC;AACA,GAAI3B,MAAM,CAACsB,SAAS,CAAE,CACpBK,aAAa,EAAE,CACjB,CAEA3B,MAAM,CAACoC,EAAE,CAAC,YAAY,CAAE,UAAM,CAC5BX,OAAO,CAACG,GAAG,CAAC,qBAAqB,CAAC,CAClCL,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CAEFvB,MAAM,CAACoC,EAAE,CAAC,OAAO,CAAE,SAACV,KAAK,CAAK,CAC5BD,OAAO,CAACC,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACvC,CAAC,CAAC,CAEF1B,MAAM,CAACoC,EAAE,CAAC,eAAe,CAAE,SAACV,KAAK,CAAK,CACpCD,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CAAC,CAAC,CAEF1B,MAAM,CAACoC,EAAE,CAAC,aAAa,CAAE,SAACC,IAAI,CAAK,CACjCZ,OAAO,CAACG,GAAG,CAAC,qBAAqB,CAAES,IAAI,CAAC,CACxCb,QAAQ,CAAC/B,gBAAgB,CAAC4C,IAAI,CAAC,CAAC,CAClC,CAAC,CAAC,CAEFrC,MAAM,CAACoC,EAAE,CAAC,qBAAqB,CAAE,SAACE,KAAK,CAAK,CAC1Cb,OAAO,CAACG,GAAG,CAAC,sBAAsB,CAAEU,KAAK,CAAC,CAC1CA,KAAK,CAACC,OAAO,CAAC,SAACC,IAAI,CAAK,CACtBhB,QAAQ,CAAC/B,gBAAgB,CAAC+C,IAAI,CAAC,CAAC,CAClC,CAAC,CAAC,CACJ,CAAC,CAAC,CAEFxC,MAAM,CAACoC,EAAE,CAAC,SAAS,CAAE,SAACK,GAAG,CAAK,CAC5BhB,OAAO,CAACG,GAAG,CAAC,mBAAmB,CAAEa,GAAG,CAAC,CACrC;AACA5C,MAAM,CAAC6C,aAAa,CAAC,GAAIC,YAAW,CAAC,YAAY,CAAE,CAAEC,MAAM,CAAEH,GAAI,CAAC,CAAC,CAAC,CACtE,CAAC,CAAC,CAEF;AACA,GAAMI,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIR,IAAI,CAAK,CAClCZ,OAAO,CAACG,GAAG,CAAC,0CAA0C,CAAC,CACvDH,OAAO,CAACG,GAAG,CAAC,wBAAwB,CAAES,IAAI,CAAC,CAE3C,GAAMR,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAMe,MAAK,CAAGb,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAE5CT,OAAO,CAACG,GAAG,CAAC,oBAAoB,CAAE,CAChCI,GAAG,CAAEc,KAAK,CACVxB,SAAS,CAAEtB,MAAM,CAACsB,SAAS,CAC3ByB,QAAQ,CAAE/C,MAAM,CAACgD,EACnB,CAAC,CAAC,CAEFvB,OAAO,CAACG,GAAG,CAAC,iBAAiB,CAAES,IAAI,CAAC,CAEpC;AACA,GAAIS,KAAK,GAAKT,IAAI,CAACY,EAAE,CAAE,CACrBxB,OAAO,CAACG,GAAG,CACT,gEAAgE,CACjE,CAED;AACA,GAAMsB,SAAQ,CAAG,CACfC,IAAI,CAAEd,IAAI,CAACc,IAAI,CACfC,QAAQ,CAAEf,IAAI,CAACe,QAAQ,CACvBH,EAAE,CAAEZ,IAAI,CAACY,EAAE,CACXI,SAAS,CAAEhB,IAAI,CAACgB,SAAS,EAAI,GAAIC,KAAI,EAAE,CAACC,WAAW,EACrD,CAAC,CAED9B,OAAO,CAACG,GAAG,CAAC,wBAAwB,CAAEsB,QAAQ,CAAC,CAC/CrD,MAAM,CAAC6C,aAAa,CAClB,GAAIC,YAAW,CAAC,uBAAuB,CAAE,CAAEC,MAAM,CAAEM,QAAS,CAAC,CAAC,CAC/D,CACD1B,QAAQ,CAAC7B,eAAe,CAACuD,QAAQ,CAAC,CAAC,CAEnC;AACAzB,OAAO,CAACG,GAAG,CAAC,sCAAsC,CAAC,CACnD5B,MAAM,CAACmC,IAAI,CAAC,uBAAuB,CAAE,CACnCgB,IAAI,CAAEL,KAAK,CACXG,EAAE,CAAEZ,IAAI,CAACc,IACX,CAAC,CAAC,CACJ,CAAC,IAAM,CACL1B,OAAO,CAACG,GAAG,CAAC,oCAAoC,CAAC,CACjDH,OAAO,CAACG,GAAG,CAAC,eAAe,CAAES,IAAI,CAACY,EAAE,CAAC,CACrCxB,OAAO,CAACG,GAAG,CAAC,SAAS,CAAEkB,KAAK,CAAC,CAC/B,CACArB,OAAO,CAACG,GAAG,CAAC,wCAAwC,CAAC,CACvD,CAAC,CAED5B,MAAM,CAACoC,EAAE,CAAC,cAAc,CAAES,iBAAiB,CAAC,CAE5C7C,MAAM,CAACoC,EAAE,CAAC,gBAAgB,CAAE,SAACC,IAAI,CAAK,CACpCZ,OAAO,CAACG,GAAG,CAAC,uCAAuC,CAAES,IAAI,CAAC,CAC1D;AACA,GAAMmB,gBAAe,CAAG3D,MAAM,CAAC2D,eAAe,CAC9C;AACA,GAAI,CAACA,eAAe,EAAIA,eAAe,CAACxB,GAAG,GAAKK,IAAI,CAACoB,OAAO,CAAE,CAC5DjC,QAAQ,CAAC9B,gBAAgB,CAAC,CAAE+D,OAAO,CAAEpB,IAAI,CAACoB,OAAQ,CAAC,CAAC,CAAC,CACvD,CACF,CAAC,CAAC,CAEF;AACA,GAAM9C,aAAY,CAAG+C,WAAW,CAAC,UAAM,CACrC,GAAI1D,MAAM,CAACsB,SAAS,CAAE,CACpBtB,MAAM,CAACmC,IAAI,CAAC,IAAI,CAAC,CACnB,CACF,CAAC,CAAE,KAAK,CAAC,CAET;AACAnC,MAAM,CAACoC,EAAE,CAAC,IAAI,CAAE,UAAM,CACpBX,OAAO,CAACG,GAAG,CAAC,wBAAwB,CAAC,CACvC,CAAC,CAAC,CAEF;AACA5B,MAAM,CAACoC,EAAE,CAAC,mBAAmB,CAAE,SAACC,IAAI,CAAK,CACvCZ,OAAO,CAACG,GAAG,CAAC,iCAAiC,CAAES,IAAI,CAAC,CACpDxC,MAAM,CAAC6C,aAAa,CAClB,GAAIC,YAAW,CAAC,mBAAmB,CAAE,CAAEC,MAAM,CAAEP,IAAK,CAAC,CAAC,CACvD,CACH,CAAC,CAAC,CAEF;AACArC,MAAM,CAACoC,EAAE,CAAC,qBAAqB,CAAE,SAACC,IAAI,CAAK,CACzCZ,OAAO,CAACG,GAAG,CAAC,sBAAsB,CAAES,IAAI,CAAC,CACzCxC,MAAM,CAAC6C,aAAa,CAClB,GAAIC,YAAW,CAAC,qBAAqB,CAAE,CAAEC,MAAM,CAAEP,IAAK,CAAC,CAAC,CACzD,CACH,CAAC,CAAC,CAEF;AACArC,MAAM,CAACoC,EAAE,CAAC,cAAc,CAAE,SAACC,IAAI,CAAK,CAClCZ,OAAO,CAACG,GAAG,CAAC,sBAAsB,CAAES,IAAI,CAAC,CACzCxC,MAAM,CAAC6C,aAAa,CAAC,GAAIC,YAAW,CAAC,cAAc,CAAE,CAAEC,MAAM,CAAEP,IAAK,CAAC,CAAC,CAAC,CACzE,CAAC,CAAC,CAEF;AACArC,MAAM,CAACoC,EAAE,CAAC,cAAc,CAAE,SAACC,IAAI,CAAK,CAClCZ,OAAO,CAACG,GAAG,CAAC,sBAAsB,CAAES,IAAI,CAAC,CACzCxC,MAAM,CAAC6C,aAAa,CAAC,GAAIC,YAAW,CAAC,cAAc,CAAE,CAAEC,MAAM,CAAEP,IAAK,CAAC,CAAC,CAAC,CACzE,CAAC,CAAC,CAEF;AACArC,MAAM,CAACoC,EAAE,CAAC,aAAa,CAAE,SAACC,IAAI,CAAK,CACjCZ,OAAO,CAACG,GAAG,CAAC,uBAAuB,CAAES,IAAI,CAAC,CAC1CxC,MAAM,CAAC6C,aAAa,CAAC,GAAIC,YAAW,CAAC,aAAa,CAAE,CAAEC,MAAM,CAAEP,IAAK,CAAC,CAAC,CAAC,CACxE,CAAC,CAAC,CAEF;AACArC,MAAM,CAACoC,EAAE,CAAC,cAAc,CAAE,SAACC,IAAI,CAAK,CAClCZ,OAAO,CAACG,GAAG,CAAC,wBAAwB,CAAES,IAAI,CAAC,CAC3CxC,MAAM,CAAC6C,aAAa,CAAC,GAAIC,YAAW,CAAC,cAAc,CAAE,CAAEC,MAAM,CAAEP,IAAK,CAAC,CAAC,CAAC,CACzE,CAAC,CAAC,CAEF;AACArC,MAAM,CAACoC,EAAE,CAAC,eAAe,CAAE,SAACC,IAAI,CAAK,CACnCZ,OAAO,CAACG,GAAG,CAAC,yBAAyB,CAAES,IAAI,CAAC,CAC5CxC,MAAM,CAAC6C,aAAa,CAAC,GAAIC,YAAW,CAAC,eAAe,CAAE,CAAEC,MAAM,CAAEP,IAAK,CAAC,CAAC,CAAC,CAC1E,CAAC,CAAC,CAEF;AACArC,MAAM,CAACoC,EAAE,CAAC,WAAW,CAAE,SAACC,IAAI,CAAK,CAC/BZ,OAAO,CAACG,GAAG,CAAC,mBAAmB,CAAES,IAAI,CAAC,CACtCxC,MAAM,CAAC6C,aAAa,CAAC,GAAIC,YAAW,CAAC,WAAW,CAAE,CAAEC,MAAM,CAAEP,IAAK,CAAC,CAAC,CAAC,CACtE,CAAC,CAAC,CAEF;AACArC,MAAM,CAACoC,EAAE,CAAC,mBAAmB,CAAE,SAACuB,YAAY,CAAK,CAC/ClC,OAAO,CAACG,GAAG,CAAC,oBAAoB,CAAE+B,YAAY,CAAC,CAC/C9D,MAAM,CAAC6C,aAAa,CAClB,GAAIC,YAAW,CAAC,mBAAmB,CAAE,CAAEC,MAAM,CAAEe,YAAa,CAAC,CAAC,CAC/D,CACH,CAAC,CAAC,CAEF;AACA,MAAO,WAAM,CACXC,aAAa,CAACjD,YAAY,CAAC,CAC3BX,MAAM,CAAC6D,GAAG,CAAC,SAAS,CAAC,CACrB7D,MAAM,CAAC6D,GAAG,CAAC,YAAY,CAAC,CACxB7D,MAAM,CAAC6D,GAAG,CAAC,OAAO,CAAC,CACnB7D,MAAM,CAAC6D,GAAG,CAAC,eAAe,CAAC,CAC3B7D,MAAM,CAAC6D,GAAG,CAAC,aAAa,CAAC,CACzB7D,MAAM,CAAC6D,GAAG,CAAC,cAAc,CAAC,CAC1B7D,MAAM,CAAC6D,GAAG,CAAC,qBAAqB,CAAC,CACjC7D,MAAM,CAAC6D,GAAG,CAAC,gBAAgB,CAAC,CAC5B7D,MAAM,CAAC6D,GAAG,CAAC,SAAS,CAAC,CACrB7D,MAAM,CAAC6D,GAAG,CAAC,IAAI,CAAC,CAChB7D,MAAM,CAAC6D,GAAG,CAAC,mBAAmB,CAAC,CAC/B7D,MAAM,CAAC6D,GAAG,CAAC,qBAAqB,CAAC,CACjC7D,MAAM,CAAC6D,GAAG,CAAC,cAAc,CAAC,CAC1B7D,MAAM,CAAC6D,GAAG,CAAC,cAAc,CAAC,CAC1B7D,MAAM,CAAC6D,GAAG,CAAC,aAAa,CAAC,CACzB7D,MAAM,CAAC6D,GAAG,CAAC,cAAc,CAAC,CAC1B7D,MAAM,CAAC6D,GAAG,CAAC,eAAe,CAAC,CAC3B7D,MAAM,CAAC6D,GAAG,CAAC,WAAW,CAAC,CACvB7D,MAAM,CAAC6D,GAAG,CAAC,mBAAmB,CAAC,CACjC,CAAC,CACH,CAAC,CAAE,CAACrC,QAAQ,CAAC,CAAC,CAEd,GAAMsC,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAEC,OAAO,CAAK,CACtC,GAAI,CAAChE,MAAM,EAAI,CAACsB,SAAS,CAAE,CACzBG,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAC,CACrC,OACF,CAEA,GAAMG,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAC9C,GAAMkB,SAAQ,CAAGvB,SAAS,CAACK,GAAG,CAAC,OAAO,CAAC,CAEvClC,MAAM,CAACmC,IAAI,CAAC,SAAS,CAAE,CACrB8B,OAAO,CAAE,CAAEjB,EAAE,CAAEe,KAAM,CAAC,CACtBZ,IAAI,CAAE,CAAEH,EAAE,CAAES,OAAO,CAAES,IAAI,CAAEd,QAAS,CAAC,CACrCe,OAAO,CAAEH,OAAO,CAChBX,SAAS,CAAE,GAAIC,KAAI,EAAE,CAACC,WAAW,EACnC,CAAC,CAAC,CACJ,CAAC,CAED,GAAMa,gBAAe,CAAG,QAAlBA,gBAAe,CAAIL,KAAK,CAAK,CACjC,GAAI,CAAC/D,MAAM,EAAI,CAACsB,SAAS,CAAE,CACzBG,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAC,CACrC,OACF,CAEA,GAAMG,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAC9C,GAAMkB,SAAQ,CAAGvB,SAAS,CAACK,GAAG,CAAC,OAAO,CAAC,CAEvC,GAAI,CAACuB,OAAO,CAAE,CACZhC,OAAO,CAACC,KAAK,CAAC,uCAAuC,CAAC,CACtD,OACF,CAEAD,OAAO,CAACG,GAAG,CAAC,0BAA0B,CAAE,CACtCqB,EAAE,CAAEc,KAAK,CACTZ,IAAI,CAAEM,OAAO,CACbL,QAAQ,CAARA,QAAQ,CACRC,SAAS,CAAE,GAAIC,KAAI,EAAE,CAACC,WAAW,EACnC,CAAC,CAAC,CAEFvD,MAAM,CAACmC,IAAI,CAAC,cAAc,CAAE,CAC1Bc,EAAE,CAAEc,KAAK,CACTZ,IAAI,CAAEM,OAAO,CACbL,QAAQ,CAARA,QAAQ,CACRC,SAAS,CAAE,GAAIC,KAAI,EAAE,CAACC,WAAW,EACnC,CAAC,CAAC,CACJ,CAAC,CAED,GAAMc,gBAAe,CAAG,QAAlBA,gBAAe,CAAIN,KAAK,CAAK,CACjC,GAAI,CAAC/D,MAAM,EAAI,CAACsB,SAAS,CAAE,OAE3B,GAAMO,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAE9ClC,MAAM,CAACmC,IAAI,CAAC,cAAc,CAAE,CAC1Bc,EAAE,CAAEc,KAAK,CACTZ,IAAI,CAAEM,OACR,CAAC,CAAC,CACJ,CAAC,CAED,GAAMa,gBAAe,CAAG,QAAlBA,gBAAe,CAAIP,KAAK,CAAK,CACjC,GAAI,CAAC/D,MAAM,EAAI,CAACsB,SAAS,CAAE,OAE3B,GAAMO,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAE9ClC,MAAM,CAACmC,IAAI,CAAC,cAAc,CAAE,CAC1Bc,EAAE,CAAEc,KAAK,CACTZ,IAAI,CAAEM,OACR,CAAC,CAAC,CACJ,CAAC,CAED,GAAMc,eAAc,CAAG,QAAjBA,eAAc,CAAIR,KAAK,CAAES,KAAK,CAAK,CACvC,GAAI,CAACxE,MAAM,EAAI,CAACsB,SAAS,CAAE,OAE3B,GAAMO,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAE9ClC,MAAM,CAACmC,IAAI,CAAC,aAAa,CAAE,CACzBc,EAAE,CAAEc,KAAK,CACTZ,IAAI,CAAEM,OAAO,CACbe,KAAK,CAALA,KACF,CAAC,CAAC,CACJ,CAAC,CAED,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,CAAIV,KAAK,CAAEW,MAAM,CAAK,CACzC,GAAI,CAAC1E,MAAM,EAAI,CAACsB,SAAS,CAAE,OAE3B,GAAMO,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAE9ClC,MAAM,CAACmC,IAAI,CAAC,cAAc,CAAE,CAC1Bc,EAAE,CAAEc,KAAK,CACTZ,IAAI,CAAEM,OAAO,CACbiB,MAAM,CAANA,MACF,CAAC,CAAC,CACJ,CAAC,CAED,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIZ,KAAK,CAAEa,SAAS,CAAK,CAC7C,GAAI,CAAC5E,MAAM,EAAI,CAACsB,SAAS,CAAE,OAE3B,GAAMO,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAE9ClC,MAAM,CAACmC,IAAI,CAAC,eAAe,CAAE,CAC3Bc,EAAE,CAAEc,KAAK,CACTZ,IAAI,CAAEM,OAAO,CACbmB,SAAS,CAATA,SACF,CAAC,CAAC,CACJ,CAAC,CAED,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAId,KAAK,CAAK,CAC9B,GAAI,CAAC/D,MAAM,EAAI,CAACsB,SAAS,CAAE,OAE3B,GAAMO,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAE9ClC,MAAM,CAACmC,IAAI,CAAC,WAAW,CAAE,CACvBc,EAAE,CAAEc,KAAK,CACTZ,IAAI,CAAEM,OACR,CAAC,CAAC,CACJ,CAAC,CAED,GAAMqB,mBAAkB,CAAG,QAArBA,mBAAkB,CAAIf,KAAK,CAAK,CACpC,GAAI,CAAC/D,MAAM,EAAI,CAACsB,SAAS,CAAE,OAE3B,GAAMO,UAAS,CAAG,GAAIC,gBAAe,CAACjC,MAAM,CAACC,QAAQ,CAACiC,MAAM,CAAC,CAC7D,GAAM0B,QAAO,CAAGxB,QAAQ,CAACJ,SAAS,CAACK,GAAG,CAAC,KAAK,CAAC,CAAC,CAE9ClC,MAAM,CAACmC,IAAI,CAAC,aAAa,CAAE,CACzBsB,OAAO,CAAPA,OAAO,CACPM,KAAK,CAALA,KACF,CAAC,CAAC,CACJ,CAAC,CAED,mBACE,KAAC,aAAa,CAAC,QAAQ,EACrB,KAAK,CAAE,CACL/D,MAAM,CAANA,MAAM,CACNsB,SAAS,CAATA,SAAS,CACTwC,WAAW,CAAXA,WAAW,CACXM,eAAe,CAAfA,eAAe,CACfC,eAAe,CAAfA,eAAe,CACfC,eAAe,CAAfA,eAAe,CACfC,cAAc,CAAdA,cAAc,CACdE,eAAe,CAAfA,eAAe,CACfE,gBAAgB,CAAhBA,gBAAgB,CAChBE,YAAY,CAAZA,YAAY,CACZC,kBAAkB,CAAlBA,kBACF,CAAE,UAEDzD,QAAQ,EACc,CAE7B,CAEA,MAAO,SAAS0D,UAAS,EAAG,CAC1B,MAAO3F,WAAU,CAAC+B,aAAa,CAAC,CAClC"},"metadata":{},"sourceType":"module"}